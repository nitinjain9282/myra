
Designing the data layer:
- Defining Requirements 
- Adding Domain classes and field types
- Adding relationship between domain classes. 
- 

Requirements: 
--------------------------------------------------------------------------------------------------
- When customer orders beverage, he recives reward. 
A customer can receive many awards and every award belong to one and only one customer. 
So in notes/2.1_ERD.png we see arrow frm Award to Customer.
 
- Customer can go online and palce order. 
Order belong to one and only one customer but one customer can place many order. 

- An online order can contain many items 
Each Item will belong to only one order. 

- You purchase a product in each order item. 
Each Order item will have only one product. 

notes/2.1_ERD.png
From the diagram we will now have one to many and many to many relationship. 

--------------------------------------------------------------------------------------------------
Fields required for each domain class: 
Customer: First Name, Last Name, Phone, Email, Total Points. 
Award:  Date, Type, Points. 
Order: Data, OrderNumber, Order Total. 
Order Item: Quantity, Total Cost. 
Product: SKU, Name , Price. 

--------------------------------------------------------------------------------------------------
Create all 5 domain class as above ( Prodcut is already created before).
Right click domain folder and create respective domain class.
Add fields with their types in respective domain class created.

-----------------------------------------------------------------------------------------------------------
Defining Relationship between each domain classes: 
- we will define both relationship of Customer and Award viz.Custoemer having many relationships with Award and Award having 
  one relationship with customer. 
 with this we will acheive cascading behavior so when we will query Customer we will automatically get awards. 
 Similarly, deleting Customer will automatically delete all its awards. 
 
 Customer is parent to two domain classes : Award and Order. 
` static hasMany = [awards:Award, onlineOrders:OnlineOrder]`
  
 Similarly, Award is child to Customer: 
`   static belongsTo = [customer:Customer]`

After running application it will create remaining 4 database tables and we can access them here: 
**http://localhost:8080/h2-console/**






